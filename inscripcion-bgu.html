<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Inscripci√≥n</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://cdn.bitrix24.es/b15495391/resize_cache/585185/047e4a127947eff3c7d861cc2f113186/landing/9bb/9bb8e2dd29ca43a136de779f794d27a5/32x32.png">
    <link rel="stylesheet" href="https://fonts.bitrix24.es/css2?family=Barlow:wght@100;200;300;400;500;600;700;800;900">
    <style>
        body {
            background-image: url('https://cdn.bitrix24.es/b15495391/landing/2ec/2ecc046a136783f8eca8ba1c2946a5ac/MADOK-Portada_2x.webp'); /* Reemplaza con tu imagen */
            background-size: cover;
            background-repeat: no-repeat; /* Evita que la imagen se duplique */
            background-position: center;
            height: 100vh;
            font-family: Barlow;
            margin: 0;
            overflow: hidden; /* Evita el scroll */
            background-attachment: fixed;
        }
        .form-container {
            position: absolute; /* Para poder centrar usando top y left */
            top: 50%; /* Centrado vertical */
            left: 50%; /* Centrado horizontal */
            transform: translate(-50%, -50%); /* Ajusta el punto de referencia al centro */
            width: 90%;
            max-width: 800px;
            background: #ffffff;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 1rem;
        }
        .header img {
            max-width: 100px;
            margin-bottom: 1rem;
        }
        .header h2 {
            color: #6a1b9a;
            font-size: 1.8rem;
            font-weight: 600;
        }
        .btn-purple {
            background-color: #4a0072;
            color: #ffffff;
            font-weight: bold;
            border: none;
            padding: 0.8rem;
            font-size: 1rem;
        }
        .btn-purple:hover {
            background-color: #6a1b9a;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            color: #ffffff;
        }
        .form-text {
            font-size: 0.9rem;
            color: #6a1b9a;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="header">
            <!-- Espacio para el logo -->
            <img src="https://cdn.bitrix24.es/b15495391/disk/2f5/2f5f8362bce1af0249a76334df5eb848/cf5c635dc866524b2cb00589bf76fe1e" alt="Logo Institucional">
            <h2>Formulario de Inscripci√≥n</h2>
            <br><span>üéâ Para continuar con tu inscripci√≥n, te pedimos que completes tus datos con precisi√≥n. <br> ¬°Estamos emocionados de tenerte con nosotros! üòä</span>
            <hr>
        </div>

        <form id="inscripcion-form">

          <input type="hidden" name="hoja" value="Form bgu">
            <!-- Nombres y Apellidos -->
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="nombres" class="form-label">Nombres</label>
                    <input type="text" class="form-control" id="nombres" name="nombres" required>
                </div>
                <div class="col-md-6">
                    <label for="apellidos" class="form-label">Apellidos</label>
                    <input type="text" class="form-control" id="apellidos" name="apellidos" required>
                </div>
            </div>
            <div class="row mb-3">
              <div class="col-md-6">
                  <label for="nacionalidad" class="form-label">Nacionalidad</label>
                  <input type="text" class="form-control" id="nacionalidad" name="nacionalidad" required>
              </div>
                <div class="col-md-6">
                  <label for="dni" class="form-label">N√∫mero de Documento de Identidad</label>
                  <input type="text" class="form-control" id="dni" name="dni" required>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                  <label for="celular" class="form-label">Celular (Incluir codigo de pa√≠s)</label>
                  <input type="text" class="form-control" id="celular" name="celular" required>
                </div>
                <div class="col-md-6">
                  <label for="nacimiento" class="form-label">Fecha de Nacimiento</label>
                  <input type="date" class="form-control" id="nacimiento" name="nacimiento" required>
                </div>
            </div>
            <br>
            <div class="mb-3">
              <label for="maestria" class="form-label">Nombre de la Maestr√≠a, Diplomado o Especialidad</label>
              <input type="text" class="form-control" id="maestria" name="maestria" required>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">Correo Electr√≥nico - Personal</label>
              <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="mb-3">
              <label for="emailInstitucional" class="form-label">Correo Electr√≥nico - Institucional (Opcional)</label>
              <input type="email" class="form-control" id="emailInstitucional" name="emailInstitucional" >
            </div>
            <div class="mb-3">
              <label for="dias" class="form-label">D√≠as y horas de disponibilidad para las clases sincr√≥nicas</label>
              <input type="text" class="form-control" id="dias" name="dias" required>
            </div>

            <button type="submit" class="btn btn-purple w-100">Enviar</button>
        </form>

        <p id="respuesta" class="text-center mt-3" style="color: green;"></p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const form = document.getElementById('inscripcion-form');
    const respuesta = document.getElementById('respuesta');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Mostrar alerta de carga
        Swal.fire({
            title: 'Enviando...',
            text: 'Por favor espera mientras procesamos tu formulario.',
            icon: 'info',
            allowOutsideClick: false,
            didOpen: () => {
                Swal.showLoading();
                // Forzar altura del body despu√©s de abrir el modal
                document.body.style.height = '100vh';
                document.body.style.overflow = 'hidden';
            },
            willClose: () => {
                // Restaurar el estilo del body si es necesario
                document.body.style.height = '';
                document.body.style.overflow = '';
            },
        });

        const formData = new FormData(form);

        try {
            const response = await fetch('https://script.google.com/macros/s/AKfycbzriZwFJD--yIzYyrN0jLjolVR5m7UDbKRgiTg7jQAc0gu8XDjDn239P_fwRVNIUUZ_3w/exec', {
                method: 'POST',
                body: formData
            });

            Swal.close(); // Cierra la alerta de carga

            if (response.ok) { // Mostrar alerta de √©xito
                Swal.fire({
                    title: '¬°Formulario enviado con √©xito!',
                    text: 'Gracias por tu envio. üë©‚Äçüíª Una asesora se comunicar√° contigo para proceder con la inscripci√≥n.',
                    icon: 'success',
                    imageWidth: 80,
                    imageHeight: 80
                });
                form.reset();
            } else {
              // Mostrar alerta de error
               Swal.fire({
                   title: 'Error al enviar el formulario',
                   text: 'Por favor, int√©ntalo nuevamente m√°s tarde.',
                   icon: 'error',
                   imageWidth: 80,
                   imageHeight: 80
               });
            }
        } catch (error) {
            // Manejo de errores
            Swal.close();
            Swal.fire({
                title: 'Error de conexi√≥n',
                text: 'No pudimos procesar tu formulario. Por favor, verifica tu conexi√≥n e int√©ntalo de nuevo.',
                icon: 'error',
                imageWidth: 80,
                imageHeight: 80
            });
            console.error(error);
        }
    });
</script>

</body>
</html>
